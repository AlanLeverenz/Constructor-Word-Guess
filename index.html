<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
    <script>

        // WOF PHRASES
        wofArr = [
            'A CAT HAS NINE LIVES',
            'A BITTER PILL TO SWALLOW',
            'A DIAMOND IN THE ROUGH',
            'A DROP IN THE BUCKET',
            'A FATE WORSE THAN DEATH',
            'A LEGEND IN HIS OWN MIND',
            'A MATCH MADE IN HEAVEN',
            'A PENNY FOR YOUR THOUGHTS',
            'A STITCH IN TIME SAVES NINE',
            'A TOUGH ACT TO FOLLOW',
            'A WALK DOWN MEMORY LANE',
            'A WORK IN PROGRESS',
            'AGED TO PERFECTION',
            'ALL THINGS CONSIDERED',
            'ALONE IN A CROWD',
            'AN ACE UP YOUR SLEEVE',
            'BACK BY POPULAR DEMAND',
            'BE TRUE TO YOURSELF',
            'BETTER LATE THAN NEVER',
            'BITE YOUR TONGUE',
            'BRING HOME THE BACON',
            'CITY THAT NEVER SLEEPS',
            'CLOSED FOR THE HOLIDAYS',
            'COMES WITH THE TERRITORY',
            'CONSIDER THE SOURCE'
        ];

        // LETTER CONSTRUCTOR

        // var Letter = function(letter) { 
        //     this.letter = letter,
        //     this.match = false,
        //     this.toString = function(){    
        //         var placeHolder = '_';
        //         if (this.match === true) {
        //             // console.log(this.letter);
        //             return this.letter;
        //         } else if (this.match === false) {
        //             // console.log(placeHolder);
        //             return placeHolder;
        //         } 
        //     },
        //     this.compare = function(char){
        //         if (this.letter === char) {
        //             this.match = true;
        //         }
        //     }
        // }

        // =======

        var Letter = function(letter) { 
            this.letter = letter,
            this.match = false
        }

        // returns either the underlying letter or an underscore
        Letter.prototype.toString = function() {
            var placeHolder = '_';
            if (this.match === true) {
                    // console.log(this.letter);
                    return this.letter;
                } else if (this.match === false) {
                    // console.log(placeHolder);
                    return placeHolder;
                } 
        }

        // compares input with underlying letter
        Letter.prototype.compare = function(char) {
            if (this.letter === char) {
                this.match = true;
            }
            // console.log("letter: " + this.letter + ", match: " + this.match);
        }

        // =====

        // WORD ARRAY WITH LETTER INSTANCES

        // var Word = [];
        // var showArray = [];

        // // make word string
        // var wordStr = wofArr[(Math.floor(Math.random() * 24 ))];

        // // build the array of underlying letters
        // for ( var i=0; i < wordStr.length ; i++ ) {
        //     var letter = new Letter(wordStr[i]);
        //     Word.push(letter);
        // }
        // console.log(Word);


        // START =========================

        // make word string
        var makeString = function (arr) {
            var index = Math.floor(Math.random() * 25 );
            var str = arr[index];
            return str;
        } 

        // build the word object
        var makePhrase = function (str) {
            var obj = [];
            for ( var i=0; i < str.length ; i++ ) {
                var letter = new Letter(str[i]);
                obj.push(letter);
            }
            return obj;
        }

        var Word = [];
        var wordStr = '';
        wordStr = makeString(wofArr);
        Word = makePhrase(wordStr);
        var showArray = [];

        // END ===========================


        // function to test if all letters are true
        var checkMatches = function() {
            for ( a=0 ; a < Word.length ; a++ ) {
                if (Word[a].match == false)
                return false
            }
            return true
        }


        var inputArray = [' ','a','s','n','e','v','h','c','l','i','t','y','z'];
        // var wordIndex = (Math.floor(Math.random()) * 24 );
        // var wordStr = wofArr[wordIndex];

        var stopInput = false;

        // for loop 
        for (var i=0 ; i < inputArray.length; i++) {
            console.log("Input: " + inputArray[i] + " ===");

            // compare input char with Word letters, set match if true
            for (var j = 0 ; j < Word.length ; j++) {
                var str = inputArray[i].toUpperCase();
                Word[j].compare(str);
            } 

            // insert the underlying char or underline into showArray
            for (x = 0 ; x < Word.length ; x++) {
                myLetter = Word[x].toString();
                showArray[x] = myLetter;
            }
                
            // console log the showString
            showString = showArray.join(' ');
            console.log(showString);

            var check = checkMatches();
            console.log('check = ' + check);
            // break the loop if check === true
            if (check === true) { 
                console.log("YOU GOT IT!");
                break;
            }
        } // end for


    </script>
</body>
</html>